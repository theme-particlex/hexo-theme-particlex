!function () { var we = document.createElement("canvas"); we.style.cssText = "position:fixed;top:0;left:0;pointer-events:none;z-index:9999999"; document.body.appendChild(we); var Ce = we.getContext("2d"); var xe = 30; var ke = 0; var Le = 0; var Ee = "click"; var Te = ["rgba(255,182,185,.9)", "rgba(250,227,217,.9)", "rgba(187,222,214,.9)", "rgba(138,198,209,.9)"]; function Me() { we.width = window.innerWidth * 2; we.height = window.innerHeight * 2; we.style.width = window.innerWidth + "px"; we.style.height = window.innerHeight + "px"; we.getContext("2d").scale(2, 2) } function Ne(e) { ke = e.clientX || e.touches && e.touches[0].clientX; Le = e.clientY || e.touches && e.touches[0].clientY } function Oe(e) { var t = anime.random(0, 360) * Math.PI / 180; var n = anime.random(50, 180); var a = [-1, 1][anime.random(0, 1)] * n; return { x: e.x + a * Math.cos(t), y: e.y + a * Math.sin(t) } } function je(e, t) { var n = {}; n.x = e; n.y = t; n.color = Te[anime.random(0, Te.length - 1)]; n.radius = anime.random(16, 32); n.endPos = Oe(n); n.draw = function () { Ce.beginPath(); Ce.arc(n.x, n.y, n.radius, 0, 2 * Math.PI, true); Ce.fillStyle = n.color; Ce.fill() }; return n } function Ie(e, t) { var n = {}; n.x = e; n.y = t; n.color = "#FFF"; n.radius = .1; n.alpha = .5; n.lineWidth = 6; n.draw = function () { Ce.globalAlpha = n.alpha; Ce.beginPath(); Ce.arc(n.x, n.y, n.radius, 0, 2 * Math.PI, true); Ce.lineWidth = n.lineWidth; Ce.strokeStyle = n.color; Ce.stroke(); Ce.globalAlpha = 1 }; return n } function He(e) { for (var t = 0; t < e.animatables.length; t++) { e.animatables[t].target.draw() } } function qe(e, t) { var n = Ie(e, t); var a = []; for (var i = 0; i < xe; i++) { a.push(je(e, t)) } anime.timeline().add({ targets: a, x: function (e) { return e.endPos.x }, y: function (e) { return e.endPos.y }, radius: .1, duration: anime.random(1200, 1800), easing: "easeOutExpo", update: He }).add({ targets: n, radius: anime.random(80, 160), lineWidth: 0, alpha: { value: 0, easing: "linear", duration: anime.random(600, 800) }, duration: anime.random(1200, 1800), easing: "easeOutExpo", update: He }, 0) } var Ae = anime({ duration: Infinity, update: function () { Ce.clearRect(0, 0, we.width, we.height) } }); document.addEventListener(Ee, function (e) { Ae.play(); Ne(e); qe(ke, Le) }, false); Me(); window.addEventListener("resize", Me, false); }();